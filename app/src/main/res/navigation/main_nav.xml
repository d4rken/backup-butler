<?xml version="1.0" encoding="utf-8"?>
<navigation xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/main_nav_graph"
    app:startDestination="@id/initFragment">

    <fragment
        android:id="@+id/initFragment"
        android:name="eu.darken.bb.main.ui.InitFragment"
        android:label="InitFragment"
        tools:layout="@layout/init_fragment">
        <action
            android:id="@+id/action_initFragment_to_advancedModeFragment"
            app:destination="@id/advancedModeFragment"
            app:popUpTo="@+id/main_nav_graph" />
        <action
            android:id="@+id/action_initFragment_to_simpleModeFragment"
            app:destination="@id/simpleModeFragment"
            app:popUpTo="@+id/main_nav_graph" />
        <action
            android:id="@+id/action_initFragment_to_helloStepFragment"
            app:destination="@id/helloStepFragment"
            app:popUpTo="@+id/main_nav_graph" />
        <action
            android:id="@+id/action_initFragment_to_betaStepFragment"
            app:destination="@id/betaStepFragment"
            app:popUpTo="@+id/main_nav_graph" />
    </fragment>

    <fragment
        android:id="@+id/advancedModeFragment"
        android:name="eu.darken.bb.main.ui.advanced.AdvancedModeFragment"
        android:label="AdvancedModeFragment"
        tools:layout="@layout/advanced_mode_main_fragment">
        <action
            android:id="@+id/action_advancedModeFragment_to_storageActionDialog"
            app:destination="@id/storageActionDialog" />
        <action
            android:id="@+id/action_advancedModeFragment_to_generatorsActionDialog"
            app:destination="@id/generatorsActionDialog" />
        <action
            android:id="@+id/action_advancedModeFragment_to_taskActionDialog"
            app:destination="@id/taskActionDialog" />
        <action
            android:id="@+id/action_advancedModeFragment_to_simpleModeFragment"
            app:destination="@id/simpleModeFragment"
            app:popUpTo="@id/simpleModeFragment" />
        <action
            android:id="@+id/action_advancedModeFragment_to_storage_editor"
            app:destination="@id/storage_editor">
            <argument
                android:name="storageId"
                app:argType="eu.darken.bb.storage.core.Storage$Id"
                app:nullable="true" />
        </action>
    </fragment>

    <dialog
        android:id="@+id/storageActionDialog"
        android:name="eu.darken.bb.storage.ui.list.actions.StorageActionDialog"
        android:label="StorageActionDialog"
        tools:layout="@layout/storage_list_action_dialog">
        <argument
            android:name="storageId"
            app:argType="eu.darken.bb.storage.core.Storage$Id" />
        <action
            android:id="@+id/action_storageActionDialog_to_storage_editor"
            app:destination="@id/storage_editor">
            <argument
                android:name="storageId"
                app:argType="eu.darken.bb.storage.core.Storage$Id" />
        </action>
    </dialog>
    <dialog
        android:id="@+id/taskActionDialog"
        android:name="eu.darken.bb.task.ui.tasklist.actions.TaskActionDialog"
        android:label="TaskActionDialog"
        tools:layout="@layout/task_list_action_dialog">
        <argument
            android:name="taskId"
            app:argType="eu.darken.bb.task.core.Task$Id" />
    </dialog>
    <dialog
        android:id="@+id/generatorsActionDialog"
        android:name="eu.darken.bb.backup.ui.generator.list.actions.GeneratorsActionDialog"
        android:label="@string/backup_generator_label"
        tools:layout="@layout/generator_list_action_dialog">
        <argument
            android:name="generatorId"
            app:argType="eu.darken.bb.backup.core.Generator$Id" />
    </dialog>

    <fragment
        android:id="@+id/simpleModeFragment"
        android:name="eu.darken.bb.main.ui.simple.SimpleModeFragment"
        android:label="SimpleModeFragment"
        tools:layout="@layout/simple_mode_main_fragment">
        <action
            android:id="@+id/action_simpleModeFragment_to_advancedModeFragment"
            app:destination="@id/advancedModeFragment"
            app:popUpTo="@id/advancedModeFragment" />
        <action
            android:id="@+id/action_simpleModeFragment_to_wizardAppsFragment"
            app:destination="@id/wizardAppsFragment" />
        <action
            android:id="@+id/action_simpleModeFragment_to_wizardFilesFragment"
            app:destination="@id/wizardFilesFragment" />
    </fragment>
    <fragment
        android:id="@+id/helloStepFragment"
        android:name="eu.darken.bb.main.ui.onboarding.hello.HelloStepFragment"
        android:label="HelloStepFragment"
        tools:layout="@layout/onboarding_step_hello_fragment">
        <action
            android:id="@+id/action_helloStepFragment_to_costStepFragment"
            app:destination="@id/costStepFragment" />
    </fragment>
    <fragment
        android:id="@+id/costStepFragment"
        android:name="eu.darken.bb.main.ui.onboarding.cost.CostStepFragment"
        android:label="CostStepFragment"
        tools:layout="@layout/onboarding_step_cost_fragment">
        <action
            android:id="@+id/action_costStepFragment_to_modeStepFragment"
            app:destination="@id/modeStepFragment" />
    </fragment>
    <fragment
        android:id="@+id/modeStepFragment"
        android:name="eu.darken.bb.main.ui.onboarding.mode.ModeStepFragment"
        android:label="ModeStepFragment"
        tools:layout="@layout/onboarding_step_mode_fragment">
        <action
            android:id="@+id/action_modeStepFragment_to_initFragment"
            app:destination="@id/initFragment"
            app:popUpTo="@+id/main_nav_graph"
            app:popUpToInclusive="true" />
    </fragment>
    <fragment
        android:id="@+id/betaStepFragment"
        android:name="eu.darken.bb.main.ui.onboarding.beta.BetaStepFragment"
        android:label="BetaStepFragment"
        tools:layout="@layout/onboarding_step_beta_fragment">
        <action
            android:id="@+id/action_betaStepFragment_to_helloStepFragment"
            app:destination="@id/helloStepFragment"
            app:popUpTo="@+id/main_nav_graph" />
        <action
            android:id="@+id/action_betaStepFragment_to_initFragment"
            app:destination="@id/initFragment"
            app:popUpTo="@+id/main_nav_graph" />
    </fragment>
    <fragment
        android:id="@+id/wizardAppsFragment"
        android:name="eu.darken.bb.main.ui.simple.wizard.apps.WizardAppsFragment"
        android:label="WizardAppsFragment"
        tools:layout="@layout/simple_mode_wizard_apps_fragment">
        <action
            android:id="@+id/action_wizardAppsFragment_to_storagePickerFragment2"
            app:destination="@id/storagePickerFragment" />
    </fragment>
    <fragment
        android:id="@+id/wizardFilesFragment"
        android:name="eu.darken.bb.main.ui.simple.wizard.files.WizardFilesFragment"
        android:label="WizardFilesFragment"
        tools:layout="@layout/simple_mode_wizard_files_fragment">
        <action
            android:id="@+id/action_wizardFilesFragment_to_storagePickerFragment"
            app:destination="@id/storagePickerFragment" />
    </fragment>
    <fragment
        android:id="@+id/storagePickerFragment"
        android:name="eu.darken.bb.storage.ui.picker.StoragePickerFragment"
        android:label="StoragePickerFragment"
        tools:layout="@layout/task_editor_backup_storages_picker_fragment">
        <argument
            android:name="taskId"
            app:argType="eu.darken.bb.task.core.Task$Id" />
        <action
            android:id="@+id/action_storagePickerFragment_to_storage_editor"
            app:destination="@id/storage_editor" />
    </fragment>
    <include app:graph="@navigation/storage_editor" />
    <fragment
        android:id="@+id/storageListFragment"
        android:name="eu.darken.bb.storage.ui.list.StorageListFragment"
        android:label="StorageListFragment"
        tools:layout="@layout/storage_list_fragment">
        <action
            android:id="@+id/action_storageListFragment_to_storage_editor"
            app:destination="@id/storage_editor">
            <argument
                android:name="storageId"
                app:argType="eu.darken.bb.storage.core.Storage$Id"
                app:nullable="true" />
        </action>
    </fragment>


</navigation>